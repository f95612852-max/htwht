# ููุฎุต ุงูุชุบููุฑุงุช - ุชุญููู Pix ุฅูู ูุธุงู ูุฑูุฒู

## ๐ฏ ุงููุฏู
ุชุญููู ูุดุฑูุน Pix ูู ูุธุงู ูุงูุฑูุฒู (Federated) ุฅูู ูุธุงู ูุฑูุฒู ูุน ุฑุจุทู ุจุฎุฏูุงุช AWS.

## โ ุงูุชุบููุฑุงุช ุงูููุชููุฉ

### 1. ุฅุฒุงูุฉ ููููุงุช ุงูููุฏุฑุฉ ูุงูู ActivityPub
- **ุญุฐู ุงููุฌูุฏุงุช ุงูุฃุณุงุณูุฉ:**
  - `app/Util/ActivityPub/` - ุฌููุน ููุงุณุงุช ActivityPub
  - `app/Jobs/ActivityPubPipeline/` - ูุนุงูุฌุฉ ุงูุฃูุดุทุฉ ุงูููุฏุฑุงููุฉ
  - `app/Jobs/RemoteFollowPipeline/` - ูุชุงุจุนุฉ ุงููุณุชุฎุฏููู ุงูุฎุงุฑุฌููู
  - `app/Services/ActivityPubService.php` - ุฎุฏูุฉ ActivityPub ุงูุฑุฆูุณูุฉ
  - `app/Services/WebfingerService.php` - ุงูุชุดุงู ุงููุณุชุฎุฏููู

- **ุญุฐู Controllers:**
  - `ProfileMigrationController.php` - ูุฌุฑุฉ ุงููููุงุช ุงูุดุฎุตูุฉ
  - `AuthorizeInteractionController.php` - ุงูุชูุงุนู ูุน ุงูุฎูุงุฏู ุงูุฎุงุฑุฌูุฉ
  - `Api/V1/DomainBlockController.php` - ุญุธุฑ ุงููุทุงูุงุช

- **ุญุฐู Jobs:**
  - `ProfileMigrationDeliverMoveActivityPipeline.php`
  - `RemoteAvatarFetch.php`

### 2. ุชูุธูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุญุฐู 16 migration file ูุฑุชุจุทุฉ ุจู:**
  - `instances` - ูุนูููุงุช ุงูุฎูุงุฏู ุงูุฎุงุฑุฌูุฉ
  - `remote_auth` - ุงููุตุงุฏูุฉ ุงูุฎุงุฑุฌูุฉ
  - `instance_actors` - ุญุณุงุจุงุช ุงูุฎูุงุฏู
  - `remote_avatars` - ุตูุฑ ุงููุณุชุฎุฏููู ุงูุฎุงุฑุฌููู

### 3. ุชุนุฏูู ุงูููุงุฐุฌ (Models)
- **Profile.php:**
  - ุฅุฒุงูุฉ ูุฑุงุฌุน `remote_url` ูู `url()`, `permalink()`, `emailUrl()`
  - ุชุจุณูุท ููุทู ุฅูุดุงุก ุงูุฑูุงุจุท ููุนูู ูุญููุงู ููุท

- **Media.php:**
  - ุฅุถุงูุฉ ุฏุนู AWS S3 ููุชุฎุฒูู
  - ุชุญุฏูุซ ูุณุงุฑุงุช ุงููููุงุช ูุงุณุชุฎุฏุงู CloudFront

### 4. ุชูุธูู ุงูู Routes
- **ุญุฐู ูู `routes/api.php`:**
  - WebFinger endpoints (`/.well-known/webfinger`)
  - NodeInfo endpoints (`/.well-known/nodeinfo`)
  - ActivityPub inbox/outbox routes
  - Federation discovery routes

### 5. ุชุญุฏูุซ SearchController
- ุฅุฒุงูุฉ ุงูุจุญุซ ุงูููุฏุฑุงูู (`remote`, `webfinger`)
- ุชุจุณูุท ุงูุจุญุซ ููุนูู ูุญููุงู ููุท
- ุฅุฒุงูุฉ ูุฑุงุฌุน `WebfingerService` ู `ActivityPub\Helpers`

## ๐ ุฅุถุงูุฉ ุฏุนู AWS

### 1. ุฅุนุฏุงุฏุงุช AWS
- **ุฅูุดุงุก `config/aws.php`:**
  - ุฅุนุฏุงุฏุงุช S3 ููุชุฎุฒูู
  - ุฅุนุฏุงุฏุงุช SES ููุฅูููู
  - ุฅุนุฏุงุฏุงุช CloudFront ููู CDN

- **ุฅูุดุงุก `app/Services/AwsService.php`:**
  - `uploadToS3()` - ุฑูุน ุงููููุงุช
  - `deleteFromS3()` - ุญุฐู ุงููููุงุช
  - `sendEmail()` - ุฅุฑุณุงู ุงูุฅููููุงุช
  - `getCdnUrl()` - ุฑูุงุจุท CloudFront

### 2. ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงููุฑูุฒู
- **ุฅูุดุงุก `config/centralized.php`:**
  - ุชุนุทูู ููุฒุงุช ุงูููุฏุฑุฉ
  - ุญุฏูุฏ ุงููุธุงู ุงูุฌุฏูุฏุฉ
  - ุฅุนุฏุงุฏุงุช AWS

### 3. ุชุญุฏูุซ ูููุงุช ุงูุฅุนุฏุงุฏ
- **`.env.example`:**
  - ุฅุถุงูุฉ ูุชุบูุฑุงุช AWS
  - ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงููุฑูุฒู
  - ุฅุฒุงูุฉ ุฅุนุฏุงุฏุงุช ุงูููุฏุฑุฉ

- **`composer.json`:**
  - ุชุญุฏูุซ ุงููุตู ูุงููููุงุช ุงูููุชุงุญูุฉ
  - ุฅุถุงูุฉ AWS SDK
  - ุชุบููุฑ ุงุณู ุงููุดุฑูุน ุฅูู `pix-centralized`

## ๐๏ธ ูููุงุช ุงููุดุฑ ูุงูุชุซุจูุช

### 1. Docker
- **`Dockerfile.aws`** - ุตูุฑุฉ Docker ูุญุณูุฉ ูู AWS
- **`docker-compose.centralized.yml`** - ุฅุนุฏุงุฏ ุงูุชุทููุฑ ูุน LocalStack

### 2. ุงูุชุซุจูุช
- **`install-centralized.sh`** - ุณูุฑูุจุช ุงูุชุซุจูุช ุงูุณุฑูุน
- **`README-CENTRALIZED.md`** - ุฏููู ุงูุงุณุชุฎุฏุงู ุงูุดุงูู

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุงููููุงุช ุงููุญุฐููุฉ:
- **Controllers:** 3 ูููุงุช
- **Services:** 2 ูููุงุช
- **Jobs:** 2 ูููุงุช
- **Migrations:** 16 ููู
- **Util Classes:** ูุฌูุฏ ูุงูู (~20 ููู)

### ุงููููุงุช ุงููููุดุฃุฉ:
- **Config:** 2 ูููุงุช
- **Services:** 1 ููู
- **Documentation:** 2 ูููุงุช
- **Deployment:** 3 ูููุงุช

### ุงููููุงุช ุงูููุนุฏูุฉ:
- **Models:** 2 ูููุงุช
- **Controllers:** 1 ููู
- **Config:** 2 ูููุงุช

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุชู ุชุญููู Pix ุจูุฌุงุญ ูู ูุธุงู ูุงูุฑูุฒู ูุนูุฏ ุฅูู ูุธุงู ูุฑูุฒู ุจุณูุท ูุน:

โ **ุฅุฒุงูุฉ ูุงููุฉ ููููุฏุฑุฉ** - ูุง ุชูุฌุฏ ุงุชุตุงูุงุช ุฎุงุฑุฌูุฉ  
โ **ุฏุนู AWS ูุชูุงูู** - S3, SES, CloudFront, RDS  
โ **ุชุจุณูุท ุงูููุฏ** - ุฅุฒุงูุฉ ุงูุชุนููุฏุงุช ุบูุฑ ุงููุทููุจุฉ  
โ **ุฃุฏุงุก ูุญุณู** - ุชุฑููุฒ ุนูู ุฎุงุฏู ูุงุญุฏ  
โ **ุณูููุฉ ุงููุดุฑ** - Docker ูุณูุฑูุจุช ุชุซุจูุช  
โ **ุชูุซูู ุดุงูู** - ุฏููู ุงูุงุณุชุฎุฏุงู ูุงูุฅุนุฏุงุฏ  

ุงููุธุงู ุงูุขู ุฌุงูุฒ ูููุดุฑ ุนูู AWS ูุชุทุจูู ูุฑูุฒู ููุดุงุฑูุฉ ุงูุตูุฑ!