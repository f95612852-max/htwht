# ููุฎุต ุงููุดุฑูุน - ููุตุฉ ุงูุชูุงุตู ุงูุงุฌุชูุงุนู ุงููุฑูุฒูุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญููู ูุดุฑูุน Pixelfed ุจูุฌุงุญ ุฅูู ููุตุฉ ุชูุงุตู ุงุฌุชูุงุนู ูุฑูุฒูุฉ ุชุชุถูู ุฌููุน ุงูููุฒุงุช ุงููุทููุจุฉ:

### โ ุงูููุฒุงุช ุงูููุฌุฒุฉ

#### 1. ูุธุงู ุงูุชุณุฌูู ุงูุงุฌุชูุงุนู
- **Google OAuth**: ุชุณุฌูู ุฏุฎูู ูุงูู ุจู Google
- **Apple Sign In**: ุชุณุฌูู ุฏุฎูู ูุงูู ุจู Apple ID
- **ุฅุฒุงูุฉ ุงูููุฏุฑุงููุฉ**: ุญุฐู ุฌููุน ููุฒุงุช ุงูุงุชุตุงู ุจุงูุฎูุงุฏู ุงูุฃุฎุฑู
- **ูุงุฌูุฉ ูุญุฏุซุฉ**: ุฃุฒุฑุงุฑ ุชุณุฌูู ุงูุฏุฎูู ูู ุตูุญุงุช Login ู Register

#### 2. ูุธุงู ุงูุชูุซูู ุจุงูุนูุงูุฉ ุงูุฒุฑูุงุก
- **ูููุฐุฌ ุทูุจ ุงูุชูุซูู**: ูุชุถูู ุฌููุน ุงูุญููู ุงููุทููุจุฉ
  - ุงูุงุณู ุงููุงูู
  - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ุฑูู ุงููุงุชู
  - ูููุฉ ุงููุณุชุฎุฏู (ุฑูุน ุตูุฑุฉ ุงูุจุทุงูุฉ)
  - ุณุจุจ ุงูุชูุซูู
  - ูุฑููุงุช ุฏุงุนูุฉ
- **ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ**: ููุฑุงุฌุนุฉ ููุจูู/ุฑูุถ ุงูุทูุจุงุช
- **ุงูุนูุงูุฉ ุงูุฒุฑูุงุก**: ุชุธูุฑ ูู ุฌููุน ุฃูุญุงุก ุงูููุตุฉ
- **ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: ูููุณุชุฎุฏููู ูุงูุฅุฏุงุฑููู

#### 3. ูุธุงู ุงูุฃุฑุจุงุญ
- **ูุนุฏู ุงูุฑุจุญ**: 0.3$ ููู 1000 ูุดุงูุฏุฉ ูุฑูุฏุฉ
- **ุชุชุจุน ุงููุดุงูุฏุงุช**: ูุธุงู ุฏููู ูุชุณุฌูู ุงููุดุงูุฏุงุช
- **ููุน ุงูุชูุงุนุจ**: ุญูุงูุฉ ูู ุงููุดุงูุฏุงุช ุงูููุฑุฑุฉ
- **ููุญุฉ ุงูุฃุฑุจุงุญ**: ุฅุญุตุงุฆูุงุช ููุตูุฉ ูููุณุชุฎุฏููู
- **ุญุณุงุจ ุชููุงุฆู**: ูู ุณุงุนุฉ ุนุจุฑ ุงูููุงู ุงููุฌุฏููุฉ

#### 4. ุฅุฒุงูุฉ ุงูููุฏุฑุงููุฉ
- **ActivityPub**: ุชู ุฅุฒุงูุชู ุจุงููุงูู
- **Remote Follows**: ุชู ุฅุฒุงูุชู
- **Webfinger**: ุชู ุฅุฒุงูุชู
- **Cross-instance**: ุชู ุฅุฒุงูุฉ ุฌููุน ุงูุงุชุตุงูุงุช ุงูุฎุงุฑุฌูุฉ

## ๐๏ธ ูููู ุงููููุงุช ุงูุฌุฏูุฏุฉ

### Models (ุงูููุงุฐุฌ)
```
app/Models/
โโโ VerificationRequest.php    # ุทูุจุงุช ุงูุชูุซูู
โโโ UserEarnings.php          # ุฃุฑุจุงุญ ุงููุณุชุฎุฏููู
โโโ PostViewLog.php           # ุณุฌู ูุดุงูุฏุงุช ุงูููุดูุฑุงุช
```

### Controllers (ุงููุชุญููุงุช)
```
app/Http/Controllers/
โโโ VerificationController.php     # ุฅุฏุงุฑุฉ ุงูุชูุซูู
โโโ EarningsController.php         # ุฅุฏุงุฑุฉ ุงูุฃุฑุจุงุญ
โโโ Auth/SocialAuthController.php  # ุชุณุฌูู ุงูุฏุฎูู ุงูุงุฌุชูุงุนู
```

### Middleware (ุงููุณุทุงุก)
```
app/Http/Middleware/
โโโ TrackPostViews.php         # ุชุชุจุน ูุดุงูุฏุงุช ุงูููุดูุฑุงุช
```

### Jobs (ุงูููุงู)
```
app/Jobs/
โโโ CalculateUserEarnings.php      # ุญุณุงุจ ุฃุฑุจุงุญ ุงููุณุชุฎุฏู
โโโ ProcessEarningsForAllUsers.php # ูุนุงูุฌุฉ ุฃุฑุจุงุญ ุฌููุน ุงููุณุชุฎุฏููู
```

### Commands (ุงูุฃูุงูุฑ)
```
app/Console/Commands/
โโโ CalculateEarnings.php          # ุฃูุฑ ุญุณุงุจ ุงูุฃุฑุจุงุญ
โโโ RemoveFederationFeatures.php   # ุฃูุฑ ุฅุฒุงูุฉ ุงูููุฏุฑุงููุฉ
```

### Views (ุงูุนุฑูุถ)
```
resources/views/
โโโ settings/
โ   โโโ verification.blade.php    # ุตูุญุฉ ุทูุจ ุงูุชูุซูู
โ   โโโ earnings.blade.php        # ููุญุฉ ุงูุฃุฑุจุงุญ
โโโ components/
    โโโ verification-badge.blade.php # ูููู ุงูุนูุงูุฉ ุงูุฒุฑูุงุก
```

### Migrations (ุงููุฌุฑุงุช)
```
database/migrations/
โโโ 2024_10_11_000001_create_verification_requests_table.php
โโโ 2024_10_11_000002_create_user_earnings_table.php
โโโ 2024_10_11_000003_create_post_view_logs_table.php
โโโ 2024_10_11_000004_add_verification_and_oauth_to_users_table.php
```

## โ๏ธ ุงูุชูููู

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุฌุฏูุฏุฉ
```env
# ุงููุถุน ุงููุฑูุฒู
CENTRALIZED_MODE=true

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Apple Sign In
APPLE_CLIENT_ID=your_apple_client_id
APPLE_CLIENT_SECRET=your_apple_client_secret
APPLE_KEY_ID=your_apple_key_id
APPLE_TEAM_ID=your_apple_team_id
APPLE_PRIVATE_KEY=your_apple_private_key

# ูุธุงู ุงูุฃุฑุจุงุญ
EARNINGS_ENABLED=true
EARNINGS_RATE_PER_THOUSAND=0.3

# ูุธุงู ุงูุชูุซูู
VERIFICATION_ENABLED=true
VERIFICATION_ADMIN_EMAIL=admin@yourdomain.com
```

### ูููุงุช ุงูุชูููู
- `config/centralized.php` - ุฅุนุฏุงุฏุงุช ุงูููุฒุงุช ุงููุฑูุฒูุฉ
- `config/services.php` - ูุญุฏุซ ุจุฅุนุฏุงุฏุงุช OAuth

## ๐ฃ๏ธ ุงููุณุงุฑุงุช ุงูุฌุฏูุฏุฉ

### ุชุณุฌูู ุงูุฏุฎูู ุงูุงุฌุชูุงุนู
- `GET /auth/google` - ุชุณุฌูู ุฏุฎูู Google
- `GET /auth/apple` - ุชุณุฌูู ุฏุฎูู Apple
- `GET /auth/{provider}/callback` - ูุนุงูุฌุฉ ุงูุงุณุชุฌุงุจุฉ

### ุงูุชูุซูู
- `GET /settings/verification` - ุตูุญุฉ ุทูุจ ุงูุชูุซูู
- `POST /settings/verification` - ุฅุฑุณุงู ุทูุจ ุงูุชูุซูู
- `GET /admin/verification` - ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ

### ุงูุฃุฑุจุงุญ
- `GET /settings/earnings` - ููุญุฉ ุงูุฃุฑุจุงุญ
- `GET /api/earnings` - API ุงูุฃุฑุจุงุญ

## ๐ง ุงูุฃูุงูุฑ ุงููุชุงุญุฉ

```bash
# ุญุณุงุจ ุงูุฃุฑุจุงุญ
php artisan earnings:calculate

# ุฅุฒุงูุฉ ููุฒุงุช ุงูููุฏุฑุงููุฉ
php artisan centralized:remove-federation --force

# ุชุดุบูู ุงูุนูุงู
php artisan queue:work

# ุชุดุบูู ุงูููุงู ุงููุฌุฏููุฉ
php artisan schedule:run
```

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏุงูู ุฌุฏูุฏุฉ
1. **verification_requests** - ุทูุจุงุช ุงูุชูุซูู
2. **user_earnings** - ุฃุฑุจุงุญ ุงููุณุชุฎุฏููู
3. **post_view_logs** - ุณุฌู ูุดุงูุฏุงุช ุงูููุดูุฑุงุช

### ุญููู ุฌุฏูุฏุฉ ูู ุฌุฏูู users
- `is_verified` - ุญุงูุฉ ุงูุชูุซูู
- `google_id` - ูุนุฑู Google
- `apple_id` - ูุนุฑู Apple

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ุชุณุฌูู ุงูุฏุฎูู ุงูุงุฌุชูุงุนู
- โ Google OAuth 2.0 ูุงูู
- โ Apple Sign In ูุงูู
- โ ุฑุจุท ุงูุญุณุงุจุงุช ุงูููุฌูุฏุฉ
- โ ุฅูุดุงุก ุญุณุงุจุงุช ุฌุฏูุฏุฉ ุชููุงุฆูุงู

### 2. ูุธุงู ุงูุชูุซูู
- โ ูููุฐุฌ ุทูุจ ุดุงูู
- โ ุฑูุน ุงููุซุงุฆู ุจุฃูุงู
- โ ูุฑุงุฌุนุฉ ุฅุฏุงุฑูุฉ
- โ ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุนุฑุถ ุงูุนูุงูุฉ ุงูุฒุฑูุงุก ูู ูู ููุงู

### 3. ูุธุงู ุงูุฃุฑุจุงุญ
- โ ุชุชุจุน ุฏููู ูููุดุงูุฏุงุช
- โ ุญุณุงุจ ุชููุงุฆู ูู ุณุงุนุฉ
- โ ููุน ุงูุชูุงุนุจ ูุงููุดุงูุฏุงุช ุงูููุฑุฑุฉ
- โ ููุญุฉ ุฅุญุตุงุฆูุงุช ููุตูุฉ
- โ ูุนุฏู ุฑุจุญ ูุงุจู ููุชุฎุตูุต

### 4. ุงูุฃูุงู ูุงูุญูุงูุฉ
- โ ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- โ ุงูุชุญูู ูู ุตุญุฉ ุงููููุงุช ุงููุฑููุนุฉ
- โ ุญูุงูุฉ ูู ูุฌูุงุช CSRF
- โ ุชุณุฌูู ุฌููุน ุงูุนูููุงุช ุงููููุฉ

## ๐ ุงูุชุดุบูู ูุงููุดุฑ

### ูุชุทูุจุงุช ุงููุธุงู
- PHP 8.1+
- MySQL 8.0+ ุฃู PostgreSQL 13+
- Redis 6.0+
- Composer
- SSL Certificate

### ุฎุทูุงุช ุงูุชุดุบูู ุงูุณุฑูุน
1. `./setup-centralized.sh` - ุชุดุบูู ุงูุณูุฑูุจุช ุงูุชููุงุฆู
2. ุชูููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
3. `php artisan migrate` - ุชุดุบูู ุงููุฌุฑุงุช
4. ุฅุนุฏุงุฏ ุงูุนูุงู ูุงูููุงู ุงููุฌุฏููุฉ
5. ุชูููู ุฎุงุฏู ุงูููุจ

## ๐ ุงูุฃุฏุงุก ูุงููุฑุงูุจุฉ

### ุชุญุณููุงุช ุงูุฃุฏุงุก
- โ ููุฑุณุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญุณูุฉ
- โ ุชุฎุฒูู ูุคูุช ููุงุณุชุนูุงูุงุช ุงูุซูููุฉ
- โ ูุนุงูุฌุฉ ุบูุฑ ูุชุฒุงููุฉ ููููุงู ุงูุซูููุฉ
- โ ุถุบุท ุงูุตูุฑ ูุงููููุงุช

### ุงููุฑุงูุจุฉ
- โ ุณุฌูุงุช ููุตูุฉ ูุฌููุน ุงูุนูููุงุช
- โ ูุฑุงูุจุฉ ุฃุฏุงุก ุงูุทูุงุจูุฑ
- โ ุชุชุจุน ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ
- โ ุชูุจููุงุช ุงูุฃุฎุทุงุก

## ๐ ุงูุฃูุงู

### ุฅุฌุฑุงุกุงุช ุงูุฃูุงู
- โ ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- โ ุญูุงูุฉ ูู ูุฌูุงุช SQL Injection
- โ ุงูุชุญูู ูู ุตุญุฉ ุฌููุน ุงููุฏุฎูุงุช
- โ ุญูุงูุฉ ุงููููุงุช ุงููุฑููุนุฉ
- โ ุชุณุฌูู ุงูุนูููุงุช ุงูุญุณุงุณุฉ

## ๐ ุงููุซุงุฆู

### ูููุงุช ุงููุซุงุฆู
- `README.md` - ุฏููู ุงูุชุดุบูู ุงูุฃุณุงุณู
- `CENTRALIZED_FEATURES.md` - ูุซุงุฆู ุงูููุฒุงุช ุงูููุตูุฉ
- `DEPLOYMENT_GUIDE.md` - ุฏููู ุงููุดุฑ ุงููุงูู
- `PROJECT_SUMMARY.md` - ูุฐุง ุงูููู

### ุฃุฏูุงุช ุงูุงุฎุชุจุงุฑ
- `test-centralized-features.php` - ุณูุฑูุจุช ุงุฎุชุจุงุฑ ุงูููุฒุงุช
- `setup-centralized.sh` - ุณูุฑูุจุช ุงูุชุดุบูู ุงูุชููุงุฆู

## โ ุญุงูุฉ ุงููุดุฑูุน

### ููุชูู 100%
- [x] ุชุณุฌูู ุงูุฏุฎูู ุจู Google
- [x] ุชุณุฌูู ุงูุฏุฎูู ุจู Apple
- [x] ูุธุงู ุงูุชูุซูู ุจุงูุนูุงูุฉ ุงูุฒุฑูุงุก
- [x] ูุธุงู ุงูุฃุฑุจุงุญ (0.3$ ููู 1000 ูุดุงูุฏุฉ)
- [x] ุฅุฒุงูุฉ ููุฒุงุช ุงูููุฏุฑุงููุฉ
- [x] ุชุชุจุน ุงููุดุงูุฏุงุช
- [x] ููุญุงุช ุงูุชุญูู
- [x] ุงูุฅุดุนุงุฑุงุช
- [x] ุงูุฃูุงู ูุงูุญูุงูุฉ
- [x] ุงููุซุงุฆู ุงููุงููุฉ

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชุญููู ุงููุดุฑูุน ุจูุฌุงุญ ูู Pixelfed ุฅูู ููุตุฉ ุชูุงุตู ุงุฌุชูุงุนู ูุฑูุฒูุฉ ูุชูุงููุฉ ุชุชุถูู ุฌููุน ุงูููุฒุงุช ุงููุทููุจุฉ. ุงููุดุฑูุน ุฌุงูุฒ ูููุดุฑ ูุงูุงุณุชุฎุฏุงู ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ.

### ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ:
1. **ุณูููุฉ ุงูุชุณุฌูู**: ุนุจุฑ Google ู Apple
2. **ูุธุงู ุชูุซูู ุงุญุชุฑุงูู**: ุจุงูุนูุงูุฉ ุงูุฒุฑูุงุก
3. **ูุธุงู ุฃุฑุจุงุญ ุนุงุฏู**: 0.3$ ููู 1000 ูุดุงูุฏุฉ
4. **ุฃุฏุงุก ูุญุณู**: ุจุฏูู ููุฒุงุช ุงูููุฏุฑุงููุฉ
5. **ุฃูุงู ุนุงูู**: ุญูุงูุฉ ุดุงููุฉ ููุจูุงูุงุช

ุงููุดุฑูุน ููุญุณู ููุนูู ูุน AWS ููุฏุนู ุงูุชุทุจููุงุช ุงูุฃูุงููุฉ ุงููุฎุชููุฉ.